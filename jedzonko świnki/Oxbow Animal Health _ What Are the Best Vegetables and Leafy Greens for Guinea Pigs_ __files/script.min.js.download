"use strict"
function middleHeightFix() {
  if ($(window).width() > 768) {
    var winHeight = $(window).height(),
      headerHeight = $("header").innerHeight(),
      topHeight = $(".top-bg").innerHeight(),
      middleHeight = $("#top").innerHeight(),
      bottomHeight = $("footer").innerHeight()
    if ($("#featured-vet-award").length > 0) {
      var vetAwardHeight = $("#featured-vet-award").innerHeight()
      bottomHeight += vetAwardHeight
    }
    var totalHeight = headerHeight + topHeight + middleHeight + bottomHeight
    if (winHeight > totalHeight) {
      var newHeight = winHeight - headerHeight - topHeight - bottomHeight
      $("#top").css("minHeight", newHeight + "px")
    } else $("#top").css("minHeight", "none")
  }
}
function slideToggleWrapper(trig, tog) {
  $(trig)
    .unbind("click")
    .click(function(e) {
      e.preventDefault(), $(tog).slideToggle()
    })
}
function scrollToTop() {
  if ($(window).width() > 767) {
    var duration = 500
    $(document).scrollTop()
    $("footer .logo").click(function(e) {
      return (
        e.preventDefault(),
        $("html, body").animate({ scrollTop: 0 }, duration),
        !1
      )
    })
  }
}
function preferredTooltip() {
  var preferredLocations = $(".loc-preferred + .fa")
  $.each(preferredLocations, function() {
    $(this).click(function() {
      $("#modal-wrapper").removeClass("hide")
    })
  })
}
function modalClose() {
  var modalClose = $(".modal-close")
  modalClose.click(function(e) {
    e.preventDefault(), $("#modal-wrapper").addClass("hide")
  })
}
function petTopBgHeight() {
  var petTop = $(".pet-top-bg-image"),
    petTopHeight = petTop.innerHeight(),
    containerHeight = petTop.closest(".container").innerHeight()
  $(window).width() > 768 &&
    petTop.length > 0 &&
    containerHeight > petTopHeight &&
    petTop.innerHeight(containerHeight)
}
function resouceSelect() {
  $(".vet-resources-category").on("click", function(e) {
    e.preventDefault()
    var targetText = $(this).text(),
      resources = $(".featured-resources-single")
    $(".header-update").text(targetText),
      $(".vet-resources-category").removeClass("on"),
      $(this).addClass("on"),
      resources.addClass("hide"),
      resources.each(function(ele, value) {
        $("p.subsans").each(function() {
          $(this).text() == targetText &&
            $(this)
              .closest(".featured-resources-single")
              .removeClass("hide")
        })
      }),
      $(window).width() <= 768 &&
        ($(this)
          .parent()
          .slideToggle(),
        $(this)
          .parent()
          .prev()
          .find("i")
          .toggleClass("fa-chevron-up fa-chevron-down"))
  })
}
function homeProductsSelect(div, txt, cat, num) {
  var featuredProductText = ($(div), $(txt).text()),
    i = 0
  $(div).each(function(ele, value) {
    $(this)
      .find(cat)
      .each(function(index, val) {
        $(this).text() == featuredProductText &&
          num > i &&
          ($(this)
            .parents(div)
            .removeClass("hide"),
          (i += 1))
      })
  })
}
function petCategory() {
  $(window).load(function() {
    var href = location.href
    href.match(/([^\/]*)\/*$/)[1]
    $(".featured-product-categories a").on("click", function() {})
  })
}
function mobileProductFixedTop(ele) {
  if ($("[mobile-fixed]").length > 0) {
    var targetElement = $(ele),
      elementPosition = targetElement.offset()
    $(window).scroll(function() {
      $(window).scrollTop() > elementPosition.top
        ? (targetElement
            .css("position", "fixed")
            .css("top", "0")
            .css("left", "0")
            .css("padding-left", "1em"),
          targetElement.parent().css("z-index", 1))
        : (targetElement.css("position", "static").css("padding-left", "0"),
          targetElement.parent().css("z-index", "1"))
    })
  }
}
function trimText(el, len) {
  el.each(function() {
    var theText = $(this).text(),
      shortText = jQuery.trim(theText).substring(0, len)
    $(this).text().length >= len && $(this).text(shortText + "...")
  })
}
function subNav() {
  $(window).width() > 767 &&
    $("body:not(.vet-connect)").length > 0 &&
    productNavTrigger.on("click", function(e) {
      e.preventDefault(),
        productNav.toggleClass("on"),
        $("#main-pet-care").hasClass("on") &&
          $("#main-pet-care").removeClass("on")
    })
}
function initMap() {
  ;(map = new google.maps.Map(document.getElementById("map"), {
    zoom: 4,
    center: { lat: 38, lng: -97 },
    scrollwheel: !1,
    mapTypeControl: !0,
    mapTypeControlOptions: {
      style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
      position: google.maps.ControlPosition.TOP_CENTER
    }
  })),
    map.addListener("tilesloaded", function() {
      $("#map-loader").hide()
    })
  var geocoder = new google.maps.Geocoder(),
    submitBtn = document.getElementById("submit")
  document.getElementById("geo-trigger"), document.getElementById("rad-trigger")
  if (document.location.search.length) {
    var queries = {}
    $.each(document.location.search.substr(1).split("&"), function(c, q) {
      var i = q.split("=")
      queries[i[0].toString()] = i[1].toString()
    }),
      console.log(queries),
      $("#submit")[0].click(),
      $("#map-overlay").addClass("hide"),
      codeAddress(geocoder, map),
      map.setZoom(10),
      $("#address").attr("value", "")
  } else
    $(".results.blue-pattern-bg").addClass("no-results hide"),
      $(".location-home #content").addClass("hide"),
      $("#footer-nav ul").addClass("location-enter")
  document.getElementById("address").value
  submitBtn.addEventListener("click", function(e) {
    "" == $("#address").val() && e.preventDefault(),
      (radZoom = parseInt(radius.value)),
      $("#result .location").each(function() {
        $(this).remove()
      }),
      codeAddress(geocoder, map),
      $("#address").attr("value", "")
  })
}
function codeAddress(geocoder, map) {
  var storeType = $('.store-type input[type="radio"]:checked').val(),
    address = document.getElementById("address").value,
    radiusParam = document.getElementById("radius").value,
    radius = 1609.34 * parseInt(radiusParam, 10),
    formWrapper = document.querySelector(".locator-form-wrapper"),
    storesFoundWrapper = document.querySelector(".stores-found-wrapper")
  if (markers && markers.length) {
    for (var i = 0; i < markers.length; i++) markers[i].setMap(null)
    markers = []
  }
  geocoder.geocode({ address: address }, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK) {
      var geometry = results[0].geometry
      map.setCenter(results[0].geometry.location),
        circle && circle.setMap(null),
        (circle = new google.maps.Circle({
          center: geometry.location,
          radius: radius,
          strokeWeight: 0,
          fillOpacity: 0.15,
          fillColor: "#000000",
          map: map
        }))
      var bounds = new google.maps.LatLngBounds(),
        preferredImage = {
          url: "../css/img/oxbowPreferredMarker.png",
          size: new google.maps.Size(26, 36),
          scaledSize: new google.maps.Size(26, 36),
          origin: new google.maps.Point(0, 0)
        },
        image = {
          url: "../css/img/oxbowRegMarker.png",
          size: new google.maps.Size(26, 36),
          scaledSize: new google.maps.Size(26, 36),
          origin: new google.maps.Point(0, 0)
        },
        infowindow = new google.maps.InfoWindow()
      $.getJSON(
        "/api/retailers/" +
          geometry.location.lat() +
          "/" +
          geometry.location.lng() +
          "/" +
          radiusParam +
          "/" +
          storeType,
        function(response) {
          function widthEqualHeight(ele) {
            ele.each(function(i, val) {
              var w = locNums[i].offsetHeight
              locNums[i].style.width = w + "px"
            })
          }
          if (response.data.length) {
            $.each(response.data, function(index, data) {
              var latLng =
                  (data.is_preferred,
                  data.name,
                  new google.maps.LatLng(data.latitude, data.longitude)),
                location = document.createElement("div")
              if (
                ((location.className = "location"),
                (location.dataset.index = index),
                "true" === data.is_preferred)
              ) {
                var marker = new google.maps.Marker({
                  position: latLng,
                  map: map,
                  title: data.name,
                  icon: preferredImage
                })
                ;(location.className += " has-preferred"),
                  (location.innerHTML =
                    "<div class='loc-num'><span class='bold'>" +
                    (index + 1) +
                    "</span></div><div class='loc-details'><img class='loc-preferred' src='../css/img/results-preferred.png' /><i class='fa fa-question-circle'></i><h3 class='loc-name'>" +
                    data.name +
                    "<span class=''>(" +
                    data.distance +
                    " miles)</span></h3><p class='loc-address'>" +
                    data.address +
                    "<br />" +
                    data.city +
                    ", " +
                    data.state +
                    " " +
                    data.postal_code +
                    "<br />" +
                    data.phone +
                    "</p><a href='https://www.google.com/maps/dir/Current+Location/" +
                    data.name +
                    "/" +
                    data.latitude +
                    "," +
                    data.longitude +
                    "' class='loc-address' target='_blank'>Get Directions</a> " +
                    (data.url.trim()
                      ? "<a href='" +
                        data.url +
                        "' class='loc-site' target='_blank'>Visit Website</a>"
                      : "") +
                    "</div>")
              } else {
                var marker = new google.maps.Marker({
                  position: latLng,
                  map: map,
                  title: data.name,
                  icon: image
                })
                location.innerHTML =
                  "<div class='loc-num'><span class='bold'>" +
                  (index + 1) +
                  "</span></div><div class='loc-details'><h3 class='loc-name'>" +
                  data.name +
                  "<span class=''>(" +
                  data.distance +
                  " miles)</span></h3><p class='loc-address'>" +
                  data.address +
                  "<br />" +
                  data.city +
                  ", " +
                  data.state +
                  " " +
                  data.postal_code +
                  "<br />" +
                  data.phone +
                  "</p><a href='https://www.google.com/maps/dir/Current+Location/" +
                  data.name +
                  "/" +
                  data.latitude +
                  "," +
                  data.longitude +
                  "' class='loc-address' target='_blank'>Get Directions</a> " +
                  (data.url.trim()
                    ? "<a href='" +
                      data.url +
                      "' class='loc-site' target='_blank'>Visit Website</a>"
                    : "") +
                  "</div>"
              }
              marker.setMap(map),
                bounds.extend(marker.getPosition()),
                marker.addListener("click", function() {
                  if (data.url)
                    var content =
                      "<div class='contact-infowindow'><h3 class='upper headlines no-margin-top'>" +
                      data.name +
                      "</h3><div class='no-margins'><p class='bodycopy no-margin'>" +
                      data.address +
                      '</p><p class="bodycopy">' +
                      data.city +
                      " " +
                      data.state +
                      " " +
                      data.postal_code +
                      '</p></div><p class="bodycopy"><a class="" href="https://www.google.com/maps/dir/Current+Location/' +
                      data.name +
                      "/" +
                      data.latitude +
                      "," +
                      data.longitude +
                      '" target="_blank">Get Directions</a><a class="bodycopy" href="' +
                      data.url +
                      '" target="_blank">Visit Website</a></p></div>'
                  else
                    var content =
                      "<div class='contact-infowindow'><h3 class='upper headlines no-margin-top'>" +
                      data.name +
                      "</h3><div class='no-margins'><p class='bodycopy no-margin'>" +
                      data.address +
                      '</p><p class="bodycopy">' +
                      data.city +
                      " " +
                      data.state +
                      " " +
                      data.postal_code +
                      '</p></div><p class="bodycopy"><a class="" href="https://www.google.com/maps/dir/Current+Location/' +
                      data.name +
                      "/" +
                      data.latitude +
                      "," +
                      data.longitude +
                      '" target="_blank">Get Directions</a></p></div>'
                  infowindow.close(),
                    (infowindow = new google.maps.InfoWindow({
                      content: content,
                      maxWidth: 250
                    })),
                    infowindow.open(map, marker),
                    map.panTo(this.getPosition())
                }),
                $(window).width() <= 480 &&
                  google.maps.event.addListener(
                    infowindow,
                    "domready",
                    function() {
                      var iwOuter = $(".gm-style-iw"),
                        iwBackground = iwOuter.prev(),
                        iwCloseBtn = iwOuter.next()
                      iwBackground
                        .children(":nth-child(2)")
                        .css({ display: "none" }),
                        iwBackground
                          .children(":nth-child(4)")
                          .css({ display: "none" }),
                        iwCloseBtn.css({
                          opacity: "1",
                          top: "45px",
                          right: "17px"
                        }),
                        iwCloseBtn.next().css({ top: "40px" })
                    }
                  ),
                $(location).on("click", function() {
                  parseInt($(this).data("index"))
                  google.maps.event.trigger(markers[index], "click")
                }),
                $("#result").append(location),
                markers.push(marker)
            }),
              map.fitBounds(bounds)
            var listener = google.maps.event.addListener(
              map,
              "idle",
              function() {
                10 == radZoom
                  ? map.setZoom(11)
                  : 25 == radZoom
                  ? map.setZoom(10)
                  : 50 == radZoom
                  ? map.setZoom(9)
                  : 100 == radZoom && map.setZoom(8),
                  google.maps.event.removeListener(listener)
              }
            )
          } else map.setZoom(radZoom)
          formWrapper.classList.add("hide"),
            storesFoundWrapper.classList.remove("hide"),
            $(".stores-num").html(response.data.length),
            $(".stores-search").html(address)
          var locNums = $(".loc-num span")
          $(window).width() >= 768 && widthEqualHeight(locNums),
            preferredTooltip()
          $(window).width() <= 768 &&
            ($("#mobile-result").addClass("on"),
            $("#result .location").each(function(i, val) {
              $(this)
                .clone()
                .appendTo($("#mobile-result-wrapper"))
            }),
            $("#floating-panel").addClass("mobile-on"))
        }
      )
    } else alert("Geocode was not successful for the following reason: " + status)
  })
}
function checkAuth() {
  gapi.auth.authorize(
    { client_id: OAUTH2_CLIENT_ID, scope: OAUTH2_SCOPES, immediate: !0 },
    handleAuthResult
  )
}
function handleAuthResult(authResult) {
  authResult && !authResult.error
    ? ($(".pre-auth").hide(), $(".post-auth").show(), loadAPIClientInterfaces())
    : $("#login-link").click(function() {
        gapi.auth.authorize(
          { client_id: OAUTH2_CLIENT_ID, scope: OAUTH2_SCOPES, immediate: !1 },
          handleAuthResult
        )
      })
}
function loadAPIClientInterfaces() {
  gapi.client.load("youtube", "v3", function() {
    handleAPILoaded()
  })
}
function billingToShipping() {
  $("#shipping-address").val($("#billing-address").val()),
    $("#shipping-city").val($("#billing-city").val()),
    $("#shipping-state").val($("#billing-state").val()),
    $("#shipping-postal").val($("#billing-postal").val())
}
function clearShipping() {
  $("#shipping-address").val(""),
    $("#shipping-city").val(""),
    $("#shipping-state").val(""),
    $("#shipping-postal").val("")
}
function checkRecaptcha() {
  return (
    (res = $("#g-recaptcha-response").val()),
    "" == res || void 0 == res || 0 == res.length ? !1 : !0
  )
}
function registerSpeciesContact() {
  var speciesContact = $(".checkbox-list-item"),
    speciesParent = $(".species-contact-list"),
    activeColumn = 1
  $.each(speciesContact, function(i, val) {
    $(".species-col-" + activeColumn).append($(this)),
      i % 5 === 0 &&
        0 != i &&
        ((activeColumn += 1),
        speciesParent.append(
          '<div class="species-col-' + activeColumn + ' col-sm-4"></div>'
        ))
  })
}
var addClassByUrl = function(path, query) {
  location.pathname === path && $('[data-query="' + query + '"]').addClass("on")
}
addClassByUrl("/", "Home"),
  addClassByUrl("/our-products", "Our Products"),
  addClassByUrl("/the-oxbow-way", "The Oxbow Way"),
  addClassByUrl("/blog", "Blog"),
  addClassByUrl("/store-locator", "Find an Oxbow Retailer"),
  addClassByUrl("/vet-connect", "Vet Connect"),
  addClassByUrl("/vet-connect", "Home"),
  addClassByUrl("/vet-connect/dosage-calculator", "Dosage Calculator"),
  addClassByUrl("/vet-connect/order-products", "Ordering"),
  addClassByUrl("/vet-connect/resources", "Resources"),
  addClassByUrl("/vet-connect/awards", "Awards"),
  addClassByUrl("/vet-connect/ce-courses", "CE Courses")
var textvar = "",
  pathName = location.pathname,
  remPhoneLink = function() {
    var docWidth = $(document).width()
    docWidth >= 1024
      ? $('[data-query="phone"]').click(function() {
          return !1
        })
      : $('[data-query="phone"]').click(function() {
          return !0
        })
  }
remPhoneLink(),
  middleHeightFix(),
  $(window).resize(function() {
    middleHeightFix()
  })
var addClassTo = function(query) {
    $('[data-query="' + query + '"]').addClass("on")
  },
  removeClassFrom = function(query) {
    $('[data-query="' + query + '"]').removeClass("on")
  },
  addClassByUrl = function(path, query) {
    pathName.indexOf(path) >= 0 &&
      $('[data-query="' + query + '"]').addClass("on")
  },
  navItems = $("header nav ul li a")
$("body").hasClass("home") && $('[data-query="home"]').addClass("on")
for (var ii = 0; ii < navItems.length; ii++) {
  var currentItem = $(navItems[ii]).attr("data-query")
  addClassByUrl(currentItem, currentItem)
}
var nav = "",
  toggler = document.getElementById("mobile-toggle")
$(toggler).click(function() {
  $(nav)
    .toggleClass("mobile-hidden")
    .toggleClass("show")
}),
  $("#mobile-main-nav .has-children > a").on("click", function(e) {
    e.preventDefault(),
      $(this)
        .next()
        .slideToggle()
  }),
  slideToggleWrapper("#mailchimp-trigger", "#mailchimp-wrapper"),
  slideToggleWrapper("#sales-support-trigger", "#sales-support-wrapper"),
  $(".dform_container>input,.dform_container>textarea").addClass(
    "float-pattern"
  ),
  $("html").hasClass("lt-ie9") || $(".float-pattern").jvFloat(),
  $(".acc-trigger").on("click", function(e) {
    e.preventDefault(),
      $(this)
        .parents("section")
        .next()
        .slideToggle(),
      $(this)
        .find("i")
        .toggleClass("fa-plus fa-minus")
  }),
  ($(".vet-connect-ce").length > 0 || $(".iframe-div").length > 0) &&
    !(function() {
      function loadScript(url, scriptId, callback) {
        if (null == document.getElementById(scriptId)) {
          var script = document.createElement("script")
          ;(script.type = "text/javascript"),
            script.readyState
              ? (script.onreadystatechange = function() {
                  ;("loaded" === script.readyState ||
                    "complete" === script.readyState) &&
                    ((script.onreadystatechange = null), callback())
                })
              : (script.onload = function() {
                  callback()
                })
          var scriptIdAttr = document.createAttribute("id")
          ;(scriptIdAttr.value = scriptId),
            script.setAttributeNode(scriptIdAttr),
            (script.src = url),
            document.getElementsByTagName("head")[0].appendChild(script)
        }
      }
      function loadEmbed() {
        for (
          var iframes = document.getElementsByClassName("campaign_embed"),
            i = 0;
          i < iframes.length;
          i++
        )
          iFrameResize({ enablePublicMethods: !0 }, iframes[i])
      }
      loadScript(
        "//d2xcq4qphg1ge9.cloudfront.net/javascript/responsive_embed/20150624/iframeResizer.min.js",
        "campaignEmbedder",
        loadEmbed
      )
    })(),
  $(document).ready(function() {
    $("#menu").multilevelpushmenu({
      direction: "rtl",
      fullCollapse: !0,
      mode: "cover",
      backItemIcon: "fa fa-angle-left",
      groupIcon: "fa fa-angle-right",
      onItemClick: function() {
        var $item = (arguments[0], arguments[1], arguments[2]),
          itemHref = (arguments[3], $item.find("a:first").attr("href"))
        window.open(itemHref, "_self")
      }
    })
  }),
  $("#top-nav .search").click(function() {
    $("#top-nav .menu-search").focus()
  }),
  $(".mobile-search-trigger").click(function() {
    $("header, #mobile-search").toggleClass("on")
  }),
  $("#mobile-trigger").on("click", function() {
    $(this).toggleClass("tcon-transform"),
      $("#mobile-nav-drawer").toggleClass("on"),
      $("#mobile-overlay").toggleClass("on")
  }),
  $(document).ready(function() {
    var curIndex,
      $homeCarousel = $(".home-carousel")
    $homeCarousel.slick({
      infinite: !0,
      autoplaySpeed: 4e3,
      fade: !0,
      arrows: !1,
      autoplay: !0,
      onAfterChange: function(slide, index) {
        ;(curIndex = $(slide)[0].currentSlide),
          $(".home-nav-btn a").removeClass("on"),
          $(".home-carousel-wrapper li").removeClass("on"),
          $(".home-carousel-wrapper li")
            .eq(curIndex)
            .find("a")
            .addClass("on")
      }
    }),
      $(".home-carousel-wrapper li:first-of-type")
        .find("a")
        .addClass("on"),
      $(".home-carousel-wrapper a").click(function(e) {
        e.preventDefault()
        var slideIndex = $(this)
          .parents("li")
          .index()
        $homeCarousel.slickGoTo(slideIndex)
      })
  }),
  $(document).ready(function() {
    $(".housing-carousel").slick({
      infinite: !0,
      slidesToShow: 4,
      autoplaySpeed: 4e3,
      prevArrow: "<i class='fa fa-chevron-left slick-prev'></i>",
      nextArrow: "<i class='fa fa-chevron-right slick-next'></i>",
      autoplay: !1,
      responsive: [
        { breakpoint: 992, settings: { slidesToShow: 3 } },
        { breakpoint: 650, settings: { slidesToShow: 2 } },
        { breakpoint: 480, settings: { slidesToShow: 1 } }
      ]
    })
  }),
  scrollToTop(),
  $(window).resize(function() {
    scrollToTop()
  }),
  modalClose(),
  petTopBgHeight(),
  $(window).resize(function() {
    petTopBgHeight()
  })
var feed = new Instafeed({
  tagName: "leftycalligraphy",
  accessToken: "2216262521.91aac00.3efc1e7917a843c3a970f3c39640dc19",
  clientId: " 91aac00e612545e094bc7359f2cd34ee",
  get: "user",
  userId: "2216262521",
  target: "instafeed",
  template:
    '<a rel="group" target="_blank" href="{{link}}"><img src="{{model.images.low_resolution.url}}" alt="{{caption}}" /></a>',
  limit: "4"
})
if (
  ($("body").hasClass("Home") && feed.run(),
  $(".resource-select").length > 0 &&
    ($(".featured-product-categories a:first-of-type").addClass("on"),
    resouceSelect()),
  $("body").hasClass("Home") &&
    ($(".featured-product-categories a:first-of-type").addClass("on"),
    homeProductsSelect(
      ".home-single-product",
      ".featured-product-categories a.on",
      ".home-product-category",
      3
    )),
  $("body").hasClass("product-categories-landing"))
) {
  var featuredCategories = $(".featured-product-categories a")
  featuredCategories.on("click", function(ev) {
    $("body").hasClass("product-categories-landing") &&
      homeProductsSelect(
        ".home-single-product",
        ".featured-product-categories a.on",
        ".product-cat-landing-category",
        30
      ),
      equalheight(".featured-products .height-check"),
      equalheight(".featured-products h4.subsans")
  })
}
$(".product-thumbnails a").length > 2 &&
  ($(".product-thumbnails a").each(function(i, val) {
    i > 1 && $(this).addClass("hide")
  }),
  $(".product-thumbnails").removeClass("hide"))
var pathway = window.location.pathname,
  lastSegment = window.location.href.substr(
    window.location.href.lastIndexOf("/") + 1
  )
$("body").hasClass(".product-lines-landing") &&
  "/" != pathway &&
  $(".featured-product-categories a").each(function() {
    var dataLine = $(this).attr("data-line")
    lastSegment === dataLine && $(this).addClass("on")
  }),
  $(document).ready(function() {
    ".product-species-landing".length > 0 &&
      $(".featured-product-categories a").each(function() {
        var dataLine = $(this).attr("data-line"),
          newDataLine = dataLine.replace(/-/g, " ")
        if (lastSegment === dataLine) {
          if (($(this).addClass("on"), "litter-bedding" == lastSegment))
            var newDataLine = lastSegment.replace(/-/g, " & ")
          $("#product-speces-title").text(newDataLine)
        }
      }),
      ".product-species-landing.just-species".length > 0 &&
        $(".featured-product-categories a").each(function() {
          var newDataLine = lastSegment.replace(/-/g, " ")
          if ("gerbils-hamsters" == lastSegment)
            var newDataLine = lastSegment.replace(/-/g, " & ")
          $("#product-speces-title").text(newDataLine)
        }),
      $(".product-categories-landing").length > 0 &&
        $(".featured-product-categories a").each(function() {
          var newDataLine = lastSegment.replace(/-/g, " ")
          if ("litter-bedding" == lastSegment)
            var newDataLine = lastSegment.replace(/-/g, " & ")
          $("#product-speces-title").text(newDataLine)
        })
  }),
  $(document).ready(function() {
    $("body").hasClass("pet-products")
  }),
  petCategory(),
  $(window).width() <= 768 &&
    (mobileProductFixedTop("[mobile-fixed]"),
    $(window).resize(function() {
      mobileProductFixedTop("[mobile-fixed]")
    })),
  $(window).width() < 768 &&
    $("[mobile-fixed] h3").on("click", function(e) {
      $(this)
        .find("i")
        .toggleClass("fa-chevron-down fa-chevron-up"),
        $("[mobile-fixed]").addClass("on"),
        $(this)
          .parent()
          .next()
          .slideToggle()
    })
var resizeTimer
$(window).on("resize", function(e) {
  clearTimeout(resizeTimer),
    (resizeTimer = setTimeout(function() {
      $("[mobile-fixed] h3")
        .unbind("click")
        .click(function(e) {
          $(window).width() < 768 &&
            ($(this)
              .find("i")
              .toggleClass("fa-chevron-down fa-chevron-up"),
            $(this)
              .parent()
              .next()
              .slideToggle())
        })
    }, 250))
}),
  "gerbils hamsters" == $(".featured-products-header span").text(),
  $(document).ready(function() {
    $(".swipebox").swipebox()
  })
var html5lightbox_options = {
    watermark: "http://thinkx.net",
    watermarklink: ""
  },
  productNavTrigger = $("#main-nav > .js-main-nav-item-products a"),
  productNav = $("#our-product-drawer")
subNav(),
  $("#pet-care-trigger").on("click", function(ev) {
    ev.preventDefault(),
      $("#main-pet-care").toggleClass("on"),
      $("#main-pet-care").hasClass("on") &&
        $("#our-product-drawer").removeClass("on")
  }),
  $(".int-header").click(function(e) {
    e.preventDefault()
    var $this = $(this)
    $this.find(".fa").toggleClass("rotate"),
      $this.next(".int-locations").slideToggle()
  }),
  $(".menu-search").on("keyup", function() {
    var input = $(this)
    0 === input.val().length
      ? input.addClass("empty")
      : input.removeClass("empty")
  })
var petTopBg = document.querySelector(".pet-top-bg-image"),
  petTopImageHeight = function() {
    var petTopContainer = document.querySelector(".top-bg .container"),
      petContainerHeight = petTopContainer.offsetHeight
    petTopBg.style.height = petContainerHeight + "px"
  },
  sidebarHeight =
    $("#blog-search").outerHeight() +
    $("#category-list").outerHeight() +
    $("#archive-list").outerHeight(),
  origSidebarHeight = $("div.col-sm-4").outerHeight()
$("#archive-list .yearly-acc").on("click", function(ev) {
  ev.preventDefault(),
    $(this)
      .children("i")
      .toggleClass("on"),
    $(this)
      .next()
      .slideToggle(200),
    origSidebarHeight > sidebarHeight && $("div.col-sm-4").css("height", "auto")
})
var calcSubmit = $("#dosage-submit")
if (
  (calcSubmit.click(function(e) {
    var dosageRadios = $(".radio-inline input:checked")
    0 == dosageRadios.length && e.preventDefault()
  }),
  $(".dosage-val").length > 0)
) {
  var getMonths = function(month, year) {
      var dMonth = parseInt(month.text()),
        dYear = 12 * parseInt(year.text()),
        age = dMonth + dYear
      return $(".t-section .age.month").text(age + " months"), age
    },
    getWeight = function(weight) {
      var dUnits = $(".units").text()
      "lb" == dUnits && weightConverter(weight)
    },
    weightConverter = function(valNum) {
      var dWeight = parseFloat(valNum.text())
      ;(dWeight = dWeight / 0.0022046 / 1e3),
        valNum.text(Math.round(1e3 * dWeight) / 1e3 + "kg"),
        (bodyweight = dWeight)
    },
    isAdult = function(month, year, adult) {
      var dAge = getMonths(month, year),
        dAdultAge = adult.text(),
        dAdult = dAge >= dAdultAge ? !0 : !1
      return (adultCheck = dAdult), dAdult
    },
    getEnergyFactor = function(ef) {
      var efReturn,
        dEF = ef[0].innerHTML,
        efAdult = $(".ef-section .ef-adult")[0],
        efAdultOnly = $(".ef-section .ef-adult-only")[0],
        efGrowing = $(".ef-section .ef-growing")[0],
        efGrowingOnly = $(".ef-section .ef-growing-only")[0],
        adult = isAdult(
          $(".t-section .age.month"),
          $(".t-section .age.year"),
          $(".is-adult")
        )
      return (
        "Yes" == dEF && 1 == adult
          ? ((efReturn = efAdultOnly.innerHTML), $(".ef-match").text(efReturn))
          : "No" == dEF && 1 == adult
          ? ((efReturn = efAdult.innerHTML), $(".ef-match").text(efReturn))
          : "Yes" == dEF && 0 == adult
          ? ((efReturn = efGrowingOnly.innerHTML),
            $(".ef-match").text(efReturn))
          : "No" == dEF &&
            0 == adult &&
            ((efReturn = efGrowing.innerHTML), $(".ef-match").text(efReturn)),
        efReturn
      )
    },
    convertTbspToGrams = function(num, species) {
      return "Herbivores" == species
        ? num / 9
        : "Carnivores" == species
        ? num / 4
        : void 0
    },
    convertGramsToTbsp = function(num, species) {
      return "Herbivores" == species
        ? num / 9
        : "Carnivores" == species
        ? num / 4
        : void 0
    },
    getSpeciesType = function(adult) {
      document.querySelector(".species-type").innerHTML
    },
    getDosage = function() {
      var dosage,
        dosageCarn,
        dosagePower = Math.pow(bodyweight, 0.75),
        dosageEF = getEnergyFactor($(".energy-factor")),
        dosageSpeciesType = document.querySelector(".species-type").innerHTML
      if ("Herbivores" == dosageSpeciesType && 1 == adultCheck)
        dosage = (dosageEF * dosagePower) / 2.667
      else if ("Herbivores" == dosageSpeciesType && 0 == adultCheck)
        dosage = ((dosageEF * dosagePower) / 2.667) * 1.5
      else if ("Carnivores" == dosageSpeciesType && 1 == adultCheck)
        dosage = (dosageEF * dosagePower) / 6
      else if ("Carnivores" == dosageSpeciesType && 0 == adultCheck)
        dosage = ((dosageEF * dosagePower) / 6) * 1.5
      else if ("Omnivores" == dosageSpeciesType && 1 == adultCheck) {
        var r1 = parseFloat(
            document.querySelector(".critical-ratio").innerHTML
          ),
          r2 = parseFloat(document.querySelector(".carnivore-ratio").innerHTML)
        ;(dosage = (dosageEF * dosagePower) / (24 * (r1 + r2))),
          (dosageCarn = r2 * (dosage / r1))
      } else if ("Omnivores" == dosageSpeciesType && 0 == adultCheck) {
        var r1 = parseFloat(
            document.querySelector(".critical-ratio").innerHTML
          ),
          r2 = parseFloat(document.querySelector(".carnivore-ratio").innerHTML)
        ;(dosage = (dosageEF * dosagePower * 1.5) / (24 * (r1 + r2))),
          (dosageCarn = r2 * (dosage / r1))
      }
      if ("Omnivores" == dosageSpeciesType) {
        var dTbspParent = document.querySelector(".dosage-tbsp-wrapper"),
          dGramsParent = document.querySelector(".dosage-grams-wrapper"),
          dTbCarn =
            (document.querySelectorAll(".product"),
            document.createElement("P")),
          dGramsCarn =
            (document.createElement("P"), document.createElement("P")),
          roundedCrit =
            (document.createElement("P"), Math.round(100 * dosage) / 100),
          roundedCarn = Math.round(100 * dosageCarn) / 100
        ;(dTbCarn.innerHTML =
          Math.round(10 * roundedCarn) / 10 + " tbsp<br />"),
          dTbspParent.appendChild(dTbCarn),
          (dTbCarn.innerHTML += Math.round(10 * roundedCrit) / 10 + " tbsp "),
          (dGramsCarn.innerHTML =
            Math.round(4 * roundedCarn * 10) / 10 + "g<br />"),
          dGramsParent.appendChild(dGramsCarn),
          (dGramsCarn.innerHTML += Math.round(9 * roundedCrit * 10) / 10 + "g")
      } else {
        var dosageGrams = Math.round(10 * dosage) / 10
        $(".dosage-grams").text(dosageGrams + " grams")
        var dosageTbsp = convertGramsToTbsp(dosage, dosageSpeciesType)
        $(".dosage-tbsp").text(Math.round(10 * dosageTbsp) / 10 + " tbsp")
      }
      return dosage
    },
    calcTrigger = $("#calc-trigger"),
    calcWrapper = $(".calc-form"),
    dosageRadios = $(".radio-inline input:checked"),
    bodyweight = $(".weight span").text(),
    species = $(".species-type").text(),
    adultCheck
  parseFloat(bodyweight),
    getWeight($(".weight")),
    getDosage(),
    calcTrigger.on("click", function(e) {
      e.preventDefault(), calcWrapper.slideToggle()
    })
}
$("#search-again-trigger").on("click", function(e) {
  e.preventDefault(),
    $("#address").attr("value", ""),
    $(".locator-form-wrapper").removeClass("hide"),
    $(".stores-found-wrapper").addClass("hide"),
    $("#result").html("")
}),
  $("#mobile-result .stores-found").click(function() {
    $(this)
      .parent()
      .parent()
      .toggleClass("list-up")
  }),
  $("#address").keypress(function(e) {
    ;(10 == e.which || 13 == e.which) && $("#submit")[0].click()
  }),
  $(void 0)
    .find("input[type=submit]")
    .hide(),
  $(".location").removeClass("show")
var circle = null,
  radZoom,
  map,
  markers = [],
  sForm = $("#sales-support-form"),
  sObj = [
    {
      type: "Retailer",
      un: "OxbowRetailer",
      pw: "oxbret11",
      link: "http://oxbowanimalhealth.com/marketing-materials"
    },
    {
      type: "Rescue",
      un: "OxbowRescue",
      pw: "oxbres22",
      link: "http://oxbowanimalhealth.com/marketing-materials"
    },
    {
      type: "Veterinarian",
      un: "OxbowVet",
      pw: "oxbvet33",
      link: "http://oxbowanimalhealth.com/marketing-materials"
    },
    {
      type: "Vet Distributor",
      un: "OxbowVetDist",
      pw: "oxbvetd44",
      link: "http://oxbowanimalhealth.com/marketing-materials"
    },
    {
      type: "Pet Distributor",
      un: "OxbowPetDist",
      pw: "oxbpetd55",
      link: "http://oxbowanimalhealth.com/marketing-materials"
    },
    {
      type: "International Distributor",
      un: "OxbowIntlDist",
      pw: "oxbowintld66",
      link: "http://oxbowanimalhealth.com/marketing-materials"
    }
  ]
sForm.submit(function(e) {
  var sError = $("#sales-support-errors"),
    sType = $("#sales-support").val(),
    sUser = $("#sales-user").val(),
    sPass = $("#sales-pw").val()
  e.preventDefault()
  for (var i = 0; i < sObj.length; i += 1)
    if ((console.log("sObj[i].type", sObj[i].type), sObj[i].type == sType)) {
      if (sObj[i].un != sUser || sObj[i].pw != sPass)
        return (
          sError.html(""),
          sError.append("<p>Username or Password is incorrect</p>"),
          !1
        )
      window.location.href = sObj[i].link
    } else if ("" == sType)
      return (
        sError.html(""), sError.append("<p>Please select which login</p>"), !1
      )
})
var OAUTH2_CLIENT_ID =
    "574124242693-8lk9dpemjickp6r0lt7tip9f9rjv0et9.apps.googleusercontent.com",
  OAUTH2_SCOPES = ["https://www.googleapis.com/auth/youtube"],
  googleApiClientReady = function() {
    gapi.auth.init(function() {
      window.setTimeout(checkAuth, 1)
    })
  }
if ($(".video-landing-page").length > 0) {
  var onYouTubePlayerAPIReady = function() {
      player = new YT.Player("player", {
        height: "390",
        width: "640",
        videoId: videoID,
        playerVars: { rel: 0 },
        events: { onReady: onPlayerReady, onStateChange: onPlayerStateChange }
      })
    },
    onPlayerReady = function(evt) {
      evt.target.playVideo(),
        $.getJSON(featuredVid, function(result) {
          $(".video-details h3.headlines").text(result.items[0].snippet.title),
            $(".video-details p.bodycopy").text(
              result.items[0].snippet.description
            ),
            $(window).width() <= 768 &&
              (mobileProductFixedTop("[mobile-fixed]"),
              $(window).resize(function() {
                mobileProductFixedTop("[mobile-fixed]")
              }))
        })
    },
    onPlayerStateChange = function(evt) {},
    stopVideo = function() {
      player.stopVideo()
    },
    loadVideo = function(videoID) {
      player && player.loadVideoById(videoID)
    },
    getFeaturedVideoContent = function() {},
    vids =
      "https://www.googleapis.com/youtube/v3/playlists?part=snippet,status,contentDetails&maxResults=50&channelId=UCuc5ECzQPHvJUwyeqME68MQ&key=AIzaSyCTiIVLHpRHhCkrGPdoB51ZdLy7L37Ch5g",
    privateVideoIds = $("#private-video-library-labels a")
  if (
    ($.each(privateVideoIds, function() {
      var pplaylistId = $(this).data("playlistid"),
        privateVids =
          "https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,status,contentDetails&maxResults=50&playlistId=" +
          pplaylistId +
          "&key=AIzaSyCTiIVLHpRHhCkrGPdoB51ZdLy7L37Ch5g"
      $.getJSON(privateVids, function(pv) {
        $.each(pv.items, function() {
          var $this = $(this)[0]
          $this.snippet.thumbnails &&
            $("#private-video-library").append(
              "<a href='#' class='vid-holder' data-url=" +
                $this.contentDetails.videoId +
                " data-playlistID=" +
                $this.snippet.playlistId +
                "><figure class='lib-vids'><img src=" +
                $this.snippet.thumbnails.high.url +
                " width=" +
                $this.snippet.thumbnails.high.width +
                " height=" +
                $this.snippet.thumbnails.high.height +
                " alt=" +
                $this.snippet.title +
                "/></figure><p class='sans vid-title extra-bold'>" +
                $this.snippet.title +
                "</p><p class='bodycopy vid-description hide-text'>" +
                $this.snippet.description +
                "</p></div> "
            )
        }),
          equalheight(".vid-holder p.sans"),
          equalheight("#video-library .vid-holder"),
          $(window).resize(function() {
            equalheight(".vid-holder p.sans"),
              equalheight("#video-library .vid-holder")
          }),
          $("#private-video-library-labels a")
            .unbind("click")
            .click(function(e) {
              var pplist = $(this).data("playlistid"),
                ppvids = $("#private-video-library .vid-holder")
              ppvids.addClass("hide").removeClass("on"),
                e.preventDefault(),
                ppvids.each(function(i, val) {
                  var matchID = $(this).data("playlistid")
                  matchID === pplist &&
                    $(this)
                      .addClass("on")
                      .removeClass("hide")
                }),
                $(window).width() <= 768
                  ? equalheight("#private-video-library .vid-holder")
                  : $(".video-bottom-wrapper .video-bottom-height").css(
                      "height",
                      "auto !important"
                    ),
                $(window).width() <= 768 &&
                  ($(this)
                    .parent()
                    .prev()
                    .find("i")
                    .toggleClass("fa-chevron-down fa-chevron-up"),
                  $(this)
                    .parent()
                    .slideToggle(),
                  $("html, body").animate(
                    {
                      scrollTop: $(this)
                        .parent()
                        .parent()
                        .parent()
                        .offset().top
                    },
                    250
                  ),
                  $(window).resize(function() {
                    $(this)
                      .parent()
                      .prev()
                      .find("i")
                      .toggleClass("fa-chevron-down fa-chevron-up"),
                      $(this)
                        .parent()
                        .slideToggle(),
                      $("html, body").animate(
                        {
                          scrollTop: $(this)
                            .parent()
                            .parent()
                            .parent()
                            .offset().top
                        },
                        250
                      )
                  }))
            })
      })
    }),
    $.getJSON(vids, function(result) {
      $.each(result.items, function(i, field) {
        $("#video-library-labels").append(
          "<a href='#' data-pid=" +
            field.id +
            " class='subsans'>" +
            field.snippet.title +
            "</a> "
        )
        var mainVids =
          "https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails&maxResults=50&playlistId=" +
          field.id +
          "&key=AIzaSyCTiIVLHpRHhCkrGPdoB51ZdLy7L37Ch5g"
        $.getJSON(mainVids, function(res) {
          $.each(res.items, function(q, val) {
            $("#video-library").append(
              "<a href='#' class='vid-holder' data-url=" +
                val.contentDetails.videoId +
                " data-playlistID=" +
                val.snippet.playlistId +
                "><figure class='lib-vids'><img src=" +
                val.snippet.thumbnails.high.url +
                " width=" +
                val.snippet.thumbnails.high.width +
                " height=" +
                val.snippet.thumbnails.high.height +
                " alt=" +
                val.snippet.title +
                "/></figure><p class='sans vid-title extra-bold'>" +
                val.snippet.title +
                "</p><p class='bodycopy vid-description hide-text'>" +
                val.snippet.description +
                "</p></div> "
            )
          })
        })
      }),
        equalheight(".vid-holder p.sans"),
        equalheight("#video-library .vid-holder"),
        $(window).resize(function() {
          equalheight(".vid-holder p.sans"),
            equalheight("#video-library .vid-holder")
        }),
        $("#video-library-labels a").on("click", function(e) {
          var plist = $(this).data("pid"),
            pvids = $("#video-library .vid-holder")
          pvids.addClass("hide").removeClass("on"),
            e.preventDefault(),
            pvids.each(function() {
              var matchID = $(this).data("playlistid")
              matchID === plist &&
                $(this)
                  .addClass("on")
                  .removeClass("hide")
            }),
            $(window).width() <= 768
              ? equalheight("#video-library .vid-holder")
              : $(".video-bottom-wrapper .video-bottom-height").css(
                  "height",
                  "auto !important"
                ),
            $(window).width() <= 768 &&
              ($(this)
                .parent()
                .prev()
                .find("i")
                .toggleClass("fa-chevron-down fa-chevron-up"),
              $(this)
                .parent()
                .slideToggle(),
              $("html, body").animate(
                {
                  scrollTop: $(this)
                    .parent()
                    .parent()
                    .parent()
                    .offset().top
                },
                250
              ),
              $(window).resize(function() {
                $(this)
                  .parent()
                  .prev()
                  .find("i")
                  .toggleClass("fa-chevron-down fa-chevron-up"),
                  $(this)
                    .parent()
                    .slideToggle(),
                  $("html, body").animate(
                    {
                      scrollTop: $(this)
                        .parent()
                        .parent()
                        .parent()
                        .offset().top
                    },
                    250
                  )
              }))
        })
    }),
    $(document).on(
      "click",
      "#video-library a, #private-video-library a",
      function(e) {
        var vidTitle = $(this)
            .children(".vid-title")
            .text(),
          vidDesc = $(this)
            .children(".vid-description")
            .text(),
          vidUrl = $(this).data("url")
        e.preventDefault(),
          $(".video-details h3.headlines").text(vidTitle),
          $(".video-details p.bodycopy").text(vidDesc),
          $("html, body").animate(
            { scrollTop: $("#featured-video").offset().top },
            1e3
          ),
          loadVideo(vidUrl),
          $(window).width() <= 768 &&
            (mobileProductFixedTop("[mobile-fixed]"),
            $(window).resize(function() {
              mobileProductFixedTop("[mobile-fixed]")
            }))
      }
    ),
    $(".video-library").length > 0)
  )
    var player,
      videoID = document.querySelector("#video-id").innerHTML,
      featuredVid =
        "https://www.googleapis.com/youtube/v3/videos?part=snippet,contentDetails,statistics&id=" +
        videoID +
        "&key=AIzaSyCTiIVLHpRHhCkrGPdoB51ZdLy7L37Ch5g"
}
var sameShippingYes = document.getElementById("ship-bill-yes"),
  sameShippingNo = document.getElementById("ship-bill-no"),
  shippingWrapper = $("#shipping-wrapper")
billingToShipping(),
  $('input[name="shipping"]').change(function() {
    var shippingOption = $('input[name="shipping"]:checked').val()
    "yes" === shippingOption
      ? (shippingWrapper.slideUp(), billingToShipping())
      : "no" == shippingOption && (shippingWrapper.slideDown(), clearShipping())
  }),
  $("#order-product").submit(function(e) {
    billingToShipping()
    var products = $(".order-products-row input"),
      totalUnits = 0,
      productSubtotal = 0
    products.each(function(i, val) {
      var qty = $(this).val()
      if ("" !== qty) {
        var productQty = qty,
          productName = $(this)
            .parent()
            .siblings(".op-title")
            .children("p")
            .text(),
          productSize = $(this)
            .parent()
            .siblings(".op-size")
            .children("p")
            .text(),
          productQtyPerCase = $(this)
            .parent()
            .siblings(".op-qty")
            .children("p")
            .text(),
          productId = $(this)
            .parent()
            .siblings(".op-pid")
            .children("p")
            .text(),
          productUpc = $(this)
            .parent()
            .siblings(".op-upc")
            .children("p")
            .text(),
          productPrice = $(this)
            .parent()
            .siblings(".op-price")
            .children("p")
            .text(),
          calcPrice = parseFloat(productPrice)
        totalUnits += parseInt(productQty)
        var itemSubtotal = parseFloat(productQty * calcPrice)
        productSubtotal += itemSubtotal
        var productInfo =
          "<p><strong>Product Name: </strong><br />" +
          productName +
          "<p><p><strong>Product Size: </strong> <br />" +
          productSize +
          "</p><p><strong>Product Qty+ Per Case</strong> <br />" +
          productQtyPerCase +
          "</p><p><strong>Product ID</strong> <br />" +
          productId +
          "</p><p><strong>Item UPC</strong> <br />" +
          productUpc +
          "</p><p><strong>Units Ordered</strong> <br />" +
          productQty +
          "</p><p><strong>Item Price</strong> <br />$" +
          productPrice +
          "</p><p><strong>Item Subtotal</strong> <br />$" +
          itemSubtotal +
          "</p>"
        $(this).val(productInfo)
      }
    }),
      $("#total-units").val(totalUnits),
      productSubtotal.toFixed(2),
      $("#product-subtotal").val(productSubtotal)
    var $form = $(this),
      url = $form.attr("action")
    $.ajax({
      url: url,
      type: "post",
      dataType: "html",
      data: $form.serialize(),
      error: function(jqXHR, textStatus, errorThrown) {
        displayAjaxMessage(
          "Sorry, there was an error submitting your form. Please try again. We apologize for this inconvenience"
        )
      },
      success: function(data, textStatus, jqXHR) {}
    })
  }),
  $("body").hasClass("register") && registerSpeciesContact()
var equalheight = function(container) {
  if ($(container).length > 0) {
    var $el,
      currentTallest = 0,
      currentRowStart = 0,
      rowDivs = new Array()
    $(container).each(function() {
      ;($el = $(this)), $($el).height("auto")
      var topPostion = $el.position().top
      if (currentRowStart != topPostion) {
        for (var currentDiv = 0; currentDiv < rowDivs.length; currentDiv++)
          rowDivs[currentDiv].height(currentTallest)
        ;(rowDivs.length = 0),
          (currentRowStart = topPostion),
          (currentTallest = $el.height()),
          rowDivs.push($el)
      } else rowDivs.push($el), (currentTallest = currentTallest < $el.height() ? $el.height() : currentTallest)
      for (currentDiv = 0; currentDiv < rowDivs.length; currentDiv++)
        rowDivs[currentDiv].height(currentTallest)
    })
  }
}
$(window).load(function() {
  equalheight(".blog .height-check"),
    equalheight(".featured-products h4.subsans"),
    equalheight(".featured-products .height-check"),
    equalheight(".product-related-single h4.subsans"),
    equalheight(".product-related-single .icon-list"),
    equalheight(".home-single-product .product-landing-caption"),
    equalheight(".home-blog-social .height-check"),
    equalheight(".s3 .bordered"),
    equalheight(".vid-holder p.sans"),
    equalheight("#video-library .vid-holder"),
    $(window).width() > 768 && equalheight("#our-product-drawer .col-sm-4"),
    $(window).width() <= 480 &&
      (equalheight(".home-nav-btn span"),
      $(window).resize(function() {
        equalheight(".home-nav-btn span")
      }))
}),
  $(window).resize(function() {
    equalheight(".featured-products h4.subsans"),
      equalheight(".featured-products .height-check"),
      equalheight(".blog .height-check"),
      equalheight(".product-related-single h4.subsans"),
      equalheight(".home-single-product .product-landing-caption"),
      equalheight(".home-blog-social .height-check"),
      equalheight(".product-related-single .icon-list"),
      equalheight(".s3 .bordered"),
      equalheight(".vid-holder p.sans"),
      equalheight("#video-library .vid-holder"),
      $(window).width() > 768 && equalheight("#our-product-drawer .col-sm-4")
  }),
  (function(d, s, id) {
    var js,
      fjs = d.getElementsByTagName(s)[0]
    d.getElementById(id) ||
      ((js = d.createElement(s)),
      (js.id = id),
      (js.src =
        "//connect.facebook.net/en_US/sdk.js#xfbml=false&version=v3.2&appId=1135989053179142"),
      fjs.parentNode.insertBefore(js, fjs))
  })(document, "script", "facebook-jssdk"),
  $(".js-redirect").on("change", function() {
    var loc = $(this).val()
    loc && (window.location = $(this).val())
  })
