arrGuidedContentMappings = Object();

arrGuidedContentMappings["GuidedTiteStore"]         = "GuidedContentStore";
arrGuidedContentMappings["GuidedTiteCategories"]    = "GuidedContentCategories";
arrGuidedContentMappings["GuidedTiteSubcategories"] = "GuidedContentSubcategories";
arrGuidedContentMappings["GuidedTiteManufacturers"] = "GuidedContentManufacturers";
arrGuidedContentMappings["GuidedTitePrice"]         = "GuidedContentPrice";
arrGuidedContentMappings["GuidedTiteRating"]        = "GuidedContentRating";

function ClickGuidedTab(objCurrentElement){
    
    for (var strKey in arrGuidedContentMappings){
        var objTitleElement = document.getElementById(strKey);
        if (objTitleElement.className != "GuidedTitleOff"){
            objTitleElement.className = "";   
        }
        var objContentElement = document.getElementById(arrGuidedContentMappings[strKey]);
        objContentElement.style.display = "none";
    }
    
    objCurrentElement.className = "GuidedTitleCurrent";
    var objContentElement = document.getElementById(arrGuidedContentMappings[objCurrentElement.id]);
    objContentElement.style.display = "";               
    
    if(typeof(window.GuidedNavShowAll) == 'undefined'){
        window.GuidedNavShowAll = false;
    }
    ShowGuidedContent(objContentElement,window.GuidedNavShowAll);
                        
    return false;   
}
function ShowGuidedContent(objContentElement,bolShowAll){
    var intMaxDisplayedElements = 30;

    if(typeof(objContentElement.firstChild) != "undefined"){
        if(objContentElement.firstChild.childNodes){
            var arrUlElements = objContentElement.getElementsByTagName('UL');
            objUlElement = arrUlElements[0];
            
            if (typeof(objUlElement) == 'object'){
                arrLiElements = objUlElement.getElementsByTagName('LI');
                var intTotalElements = arrLiElements.length;                       

                if(intTotalElements > intMaxDisplayedElements){
                    for (var i = intMaxDisplayedElements    ;i < intTotalElements;i++){
                        if(bolShowAll){
                            if (arrLiElements[i].id != 'ViewMoreLess'){
                                arrLiElements[i].style.display = '';
                            }
                        }else{
                            if (arrLiElements[i].id != 'ViewMoreLess'){
                                arrLiElements[i].style.display = 'none';
                            }
                        }                                   
                    }                           
                    var objMoreLessLI = document.getElementById('ViewMoreLess');
                    if ((typeof(objMoreLessLI) == 'undefined') || (objMoreLessLI == null)){
                        
                        var objMoreLessLI = document.createElement('LI');                                       
                        objMoreLessLI.id  = 'ViewMoreLess';
                        
                        objUlElement.appendChild(objMoreLessLI);
                                                                
                        var objTempA = document.createElement('A');
                        objTempA.style.color = '#000000';
                        objTempA.style.fontWeight = 'bold';
                        objMoreLessLI.appendChild(objTempA);

                                                        
                        objMoreLessLI.strParentDIVID = objContentElement.id;                                                                           
                        objTempA.href = "#";
                        
                        addEvent(objTempA,"focus",function(e){var objEvent = PrepareEvent(e);objEvent.objRealTarget.blur();});                                       
                    }else{                                       
                        var objTempA = objMoreLessLI.firstChild;
                    }
                    
                    if(bolShowAll){                                       
                        objTempA.innerHTML = "Show&nbsp;Less";
                        removeEvent(objTempA,"click",ExpandGuidedNavContent);
                        addEvent(objTempA,"click",CollapseGuidedNavContent);
                    }else{
                        objTempA.innerHTML = "Show&nbsp;All";
                        removeEvent(objTempA,"click",CollapseGuidedNavContent);
                        addEvent(objTempA,"click",ExpandGuidedNavContent);
                    }
                }
            }
        }
    }
}               

function CollapseGuidedNavContent(){
    if (window.event){
        var objContentElement = document.getElementById(window.event.srcElement.parentNode.strParentDIVID);
    }else{
        var objContentElement = document.getElementById(this.parentNode.strParentDIVID);
    }
    
    window.GuidedNavShowAll = false;
    ShowGuidedContent(objContentElement,window.GuidedNavShowAll);
}

function ExpandGuidedNavContent(){
    if (window.event){
        var objContentElement = document.getElementById(window.event.srcElement.parentNode.strParentDIVID);
    }else{
        var objContentElement = document.getElementById(this.parentNode.strParentDIVID);
    }

    window.GuidedNavShowAll = true;
    ShowGuidedContent(objContentElement,window.GuidedNavShowAll);
}
